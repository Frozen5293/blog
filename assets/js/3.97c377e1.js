(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{285:function(s,t,a){},286:function(s,t,a){},287:function(s,t,a){},329:function(s,t,a){"use strict";a(285)},330:function(s,t,a){"use strict";a(286)},331:function(s,t,a){"use strict";a(287)},468:function(s,t,a){"use strict";a.r(t);a(329),a(330),a(331);var n=a(8),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"linux注册systemctl服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux注册systemctl服务"}},[s._v("#")]),s._v(" linux注册systemctl服务")]),s._v(" "),t("p",[s._v("在Linux中，你可以使用 Systemd 服务来将一个可执行程序注册为服务。Systemd 是一个常见的服务管理器，广泛用于现代 Linux 发行版。")]),s._v(" "),t("p",[s._v("下面是一个示例，展示了如何将一个可执行程序注册为 Systemd 服务："),t("br"),t("br")]),s._v(" "),t("p",[s._v("创建一个 Systemd 服务单元文件：在 /etc/systemd/system/ 目录下创建一个以 .service 为扩展名的服务单元文件。例如，创建一个名为 my-service.service 的文件，并使用文本编辑器打开它。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" /etc/systemd/system/my-service.service\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("编辑服务单元文件：在打开的文件中，添加以下内容（根据你的项目进行修改）：")]),s._v(" "),t("div",{staticClass:"language-plaintext line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-plaintext"}},[t("code",[s._v("[Unit]\nDescription=My Service\nAfter=network.target\n\n[Service]\nExecStart=/path/to/my-executable\nWorkingDirectory=/path/to/working-directory\nUser=my-user\nGroup=my-group\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[s._v("上述示例中的关键部分包括：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[s._v("Description：描述服务的信息。\nExecStart：指定要运行的可执行程序的路径。\nWorkingDirectory：设置工作目录，可执行程序将在该目录中运行。\nUser 和 Group：指定要以哪个用户和组身份运行服务。\nRestart：设置服务在异常退出时是否自动重启。\nWantedBy：指定服务应该安装到哪个目标中，这里使用了 multi-user.target。\n")])])]),t("p",[s._v("保存并关闭文件。")]),s._v(" "),t("p",[s._v("重新加载 Systemd 配置：运行以下命令重新加载 Systemd 配置，以使新的服务单元文件生效。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl daemon-reload\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("启动和管理服务：可以使用以下命令来启动、停止、重启和查看服务状态。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start my-service  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl stop my-service   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart my-service   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl status my-service   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看服务状态")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("这样，你的可执行程序就被注册为一个 Systemd 服务，并可以使用 Systemd 命令来管理它。")]),s._v(" "),t("p",[s._v("请注意，确保替换示例中的路径、用户和组等信息，以适应你的实际情况。此外，不同的 Linux 发行版可能略有差异，因此在特定的发行版上可能需要进行适当的调整。")]),s._v(" "),t("h2",{attrs:{id:"linux注册systemctl服务-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux注册systemctl服务-2"}},[s._v("#")]),s._v(" linux注册systemctl服务")]),s._v(" "),t("p",[s._v("如果你使用的是较旧的 Linux 系统，如 CentOS 6 或 Ubuntu 14.04，可能会使用 SysVinit 而不是 Systemd 来管理服务。在这种情况下，你可以使用 service 命令来注册和管理服务。")]),s._v(" "),t("p",[s._v("下面是一个示例，展示了如何使用 service 命令将一个可执行程序注册为服务：")]),s._v(" "),t("p",[s._v("创建一个启动脚本：创建一个启动脚本，该脚本将执行你的可执行程序。在 /etc/init.d/ 目录下创建一个名为 my-service 的文件，并使用文本编辑器打开它。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" /etc/init.d/my-service\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("编辑启动脚本：在打开的文件中，添加以下内容（根据你的项目进行修改）：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### BEGIN INIT INFO")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Provides:          my-service")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Required-Start:    $local_fs $network")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Required-Stop:     $local_fs $network")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Default-Start:     2 3 4 5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Default-Stop:      0 1 6")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Short-Description: My Service")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Description:       Start and stop My Service")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### END INIT INFO")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置工作目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /path/to/working-directory\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行可执行程序")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n    start"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        /path/to/my-executable\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    stop"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pkill")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" /path/to/my-executable\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    restart"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" stop\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" start\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    *"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Usage: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(' {start|stop|restart}"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br")])]),t("p",[s._v("上述示例中的关键部分包括：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[s._v("Provides：\n    指定服务的名称。\nRequired-Start 和 Required-Stop：\n    指定服务启动和停止所需的依赖项。\nDefault-Start 和 Default-Stop：\n    指定默认启动和停止运行级别。\nShort-Description 和 Description：\n    提供服务的简短描述和详细描述。\n")])])]),t("p",[s._v("保存并关闭文件。")]),s._v(" "),t("p",[s._v("设置启动脚本的执行权限：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /etc/init.d/my-service\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("启动和管理服务：可以使用以下命令来启动、停止、重启和查看服务状态。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" my-service start   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" my-service stop    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" my-service restart "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" my-service status  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看服务状态")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("这样，你的可执行程序就被注册为一个 SysVinit 服务，并可以使用 service 命令来管理它。")]),s._v(" "),t("p",[s._v("请注意，确保替换示例中的路径和名称等信息，以适应你的实际情况。在不同的 Linux 发行版上，启动脚本的格式和位置可能会略有差异。如果遇到问题，请参考特定发行版的文档或社区资源。")]),s._v(" "),t("p",[s._v("在Windows中，你可以使用以下步骤将一个可执行程序注册为服务：")]),s._v(" "),t("p",[s._v("创建一个服务描述文件：首先，你需要创建一个服务描述文件，通常是一个以.ini或.xml为扩展名的文件。该文件包含有关服务的配置信息，如服务的名称、描述、路径等。你可以使用文本编辑器创建这个文件，并根据需要填写必要的配置信息。")]),s._v(" "),t("p",[s._v("使用系统工具进行安装：Windows提供了一些系统工具，如sc命令和InstallUtil工具，用于安装和管理服务。打开命令提示符（以管理员身份运行）或PowerShell，并使用适当的系统工具来安装你的服务。以下是两个常用的安装命令示例：")]),s._v(" "),t("p",[s._v("使用 sc 命令：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("sc create "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("服务名称"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("binPath")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<可执行程序路径>"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("使用 InstallUtil 工具：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("InstallUtil /i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<可执行程序路径>"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("这些命令会将你的可执行程序作为服务安装到Windows服务管理器中。")]),s._v(" "),t("p",[s._v("配置服务属性：一旦你的服务安装成功，你可以使用系统工具或服务管理器来配置服务的属性，如启动类型（手动、自动、禁用）、登录用户、启动参数等。这些属性可以根据你的需求进行设置。")]),s._v(" "),t("p",[s._v("启动和管理服务：一旦服务安装和配置完成，你可以使用系统工具、服务管理器或命令行来启动、停止和管理你的服务。例如，使用以下命令来启动和停止服务：")]),s._v(" "),t("p",[s._v("使用 sc 命令：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("    sc start "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("服务名称"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    sc stop "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("服务名称"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("br"),s._v(" "),t("p",[s._v("使用服务管理器:")]),s._v(" "),t("p",[s._v("按 Win + R 打开运行对话框，输入 services.msc 打开服务管理器。")]),s._v(" "),t("p",[s._v("在服务管理器中找到你的服务，右键点击并选择启动或停止。")]),s._v(" "),t("p",[s._v("这些步骤可以帮助你将一个可执行程序注册为服务，并在Windows中进行安装、配置和管理。请注意，确保在进行任何操作之前，你已经详细了解了你的可执行程序的要求，并以管理员身份运行相关命令或工具。")])])}),[],!1,null,null,null);t.default=e.exports}}]);